# LLM í”„ë¡¬í”„íŠ¸ ê°œì„  ë¶„ì„ ë³´ê³ ì„œ

## ìš”ì•½

GitHub í”¼ë“œë°± ë¶„ì„ ì‹œìŠ¤í…œì˜ 7ê°œ LLM í”„ë¡¬í”„íŠ¸ë¥¼ ì² ì €ížˆ ë¶„ì„í•œ ê²°ê³¼, **êµ¬ì¡°ì  ë¬¸ì œ**, **ëª…í™•ì„± ë¶€ì¡±**, **í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§ ê¸°ë²• ë¯¸ì ìš©** ë“±ì˜ ê°œì„  ì˜ì—­ì„ ë°œê²¬í–ˆìŠµë‹ˆë‹¤.

---

## ðŸŽ¯ ì£¼ìš” ë°œê²¬ì‚¬í•­

### ê³µí†µ ë¬¸ì œì 

1. **JSON ìŠ¤í‚¤ë§ˆ ì˜ˆì‹œ ë¶€ì¡±**
   - ëª¨ë“  í”„ë¡¬í”„íŠ¸ê°€ JSON í˜•ì‹ì„ ìš”êµ¬í•˜ì§€ë§Œ êµ¬ì²´ì  ì˜ˆì‹œê°€ ì—†ìŒ
   - Few-shot learning ë¯¸ì‚¬ìš©ìœ¼ë¡œ ì¶œë ¥ í’ˆì§ˆ ë¶ˆì•ˆì •

2. **í‰ê°€ ê¸°ì¤€ ë¶ˆëª…í™•**
   - "ì¢‹ì€", "ëª…í™•í•œ", "ê±´ì„¤ì ì¸" ë“± ì£¼ê´€ì  í‘œí˜„ë§Œ ì‚¬ìš©
   - êµ¬ì²´ì  ë©”íŠ¸ë¦­ì´ë‚˜ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì—†ìŒ

3. **ë‚®ì€ Temperature ì„¤ì • (0.2-0.25)**
   - ì°½ì˜ì  í”¼ë“œë°±ì´ë‚˜ ë‹¤ì–‘í•œ ê´€ì  ì œì‹œì— ì œí•œì 
   - 0.3-0.5 ê¶Œìž¥

4. **í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§ ê¸°ë²• ë¯¸ì ìš©**
   - Chain-of-thought prompting ì—†ìŒ
   - Role promptingì´ ë‹¨ìˆœí•¨
   - ì¶œë ¥ ê²€ì¦ ë‹¨ê³„ ì—†ìŒ

5. **ì»¨í…ìŠ¤íŠ¸ ê¸¸ì´ ê´€ë¦¬ ë¶€ì¡±**
   - 50ê°œ ì»¤ë°‹, 30ê°œ ì´ìŠˆ ë“± ë„ˆë¬´ ë§Žì€ ìƒ˜í”Œ
   - í† í° ì œí•œ ê³ ë ¤ í•„ìš”

6. **ì—ëŸ¬ ë³µêµ¬ ë¡œì§ ì·¨ì•½**
   - LLMì´ ìž˜ëª»ëœ í˜•ì‹ ë°˜í™˜ ì‹œ ë‹¨ìˆœ fallbackë§Œ ì‚¬ìš©
   - ìž¬ì‹œë„ë‚˜ í”„ë¡¬í”„íŠ¸ ìˆ˜ì • ì—†ìŒ

---

## ðŸ“‹ í”„ë¡¬í”„íŠ¸ë³„ ìƒì„¸ ë¶„ì„

### 1. PR Review Prompt (`llm.py:74-87`)

**í˜„ìž¬ í”„ë¡¬í”„íŠ¸:**
```python
"ë‹¹ì‹ ì€ ê²½í—˜ì´ í’ë¶€í•œ ì†Œí”„íŠ¸ì›¨ì–´ ë¦¬ë·°ì–´ìž…ë‹ˆë‹¤. êµ¬ì²´ì ì¸ ìž¥ì ê³¼ ê°œì„  ê¸°íšŒë¥¼ ê°•ì¡°í•˜ë©°
ê· í˜• ìž¡ížˆê³  ì‹¤í–‰ ê°€ëŠ¥í•œ í”¼ë“œë°±ì„ ì œê³µí•˜ì„¸ìš”. ë°˜ë“œì‹œ JSON í˜•ì‹ìœ¼ë¡œ ì‘ë‹µí•˜ë©°,
ë‹¤ìŒ í‚¤ë¥¼ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤: overview, strengths, improvements.
ê° strengths/improvements í•­ëª©ì€ messageì™€ exampleì„ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤."
```

**ë¬¸ì œì :**
- âŒ JSON êµ¬ì¡° ì˜ˆì‹œ ì—†ìŒ â†’ LLMì´ ìž„ì˜ë¡œ í•´ì„ ê°€ëŠ¥
- âŒ "ê²½í—˜ì´ í’ë¶€í•œ" ê°™ì€ í˜•ìš©ì‚¬ëŠ” ì‹¤ì§ˆì  íš¨ê³¼ ì—†ìŒ
- âŒ ë¦¬ë·° ìš°ì„ ìˆœìœ„ ê¸°ì¤€ ì—†ìŒ (ì‹¬ê°ë„, ì˜í–¥ë„ ë“±)
- âŒ ì½”ë“œ ì»¨í…ìŠ¤íŠ¸ê°€ ë¶€ì¡±í•  ë•Œ ì²˜ë¦¬ ë°©ë²• ë¶ˆëª…í™•
- âŒ "ê· í˜• ìž¡ížŒ"ì˜ ì˜ë¯¸ ëª¨í˜¸ (ê¸ì •:ë¶€ì • ë¹„ìœ¨?)

**ê°œì„  ë°©ì•ˆ:**
```python
system_prompt = """ë‹¹ì‹ ì€ ì‹œë‹ˆì–´ ì†Œí”„íŠ¸ì›¨ì–´ ì—”ì§€ë‹ˆì–´ë¡œì„œ ì½”ë“œ ë¦¬ë·°ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.

ë‹¤ìŒ ì›ì¹™ì„ ë”°ë¥´ì„¸ìš”:
1. ë³´ì•ˆ, ì„±ëŠ¥, ê°€ë…ì„±, ìœ ì§€ë³´ìˆ˜ì„± ìˆœìœ¼ë¡œ ìš°ì„ ìˆœìœ„ í‰ê°€
2. ê° í”¼ë“œë°±ì— êµ¬ì²´ì  ê·¼ê±°ì™€ ê°œì„  ë°©ë²• ì œì‹œ
3. ê¸ì •ì  í”¼ë“œë°±ê³¼ ê°œì„ ì ì„ ê· í˜•ìžˆê²Œ ì œê³µ (ìµœì†Œ 1:1 ë¹„ìœ¨)
4. ì½”ë“œ ì»¨í…ìŠ¤íŠ¸ê°€ ì œí•œì ì´ë©´ "ì „ì²´ ì»¨í…ìŠ¤íŠ¸ í™•ì¸ í•„ìš”" ëª…ì‹œ

ì‘ë‹µì€ ë°˜ë“œì‹œ ë‹¤ìŒ JSON í˜•ì‹ì„ ë”°ë¥´ì„¸ìš”:

{
  "overview": "PRì˜ ì „ë°˜ì  í‰ê°€ (2-3ë¬¸ìž¥)",
  "strengths": [
    {
      "message": "ìž¥ì  ì„¤ëª…",
      "example": "ê´€ë ¨ ì½”ë“œë‚˜ íŒŒì¼ëª…",
      "impact": "high|medium|low"
    }
  ],
  "improvements": [
    {
      "message": "ê°œì„  ì œì•ˆ",
      "example": "êµ¬ì²´ì  ì½”ë“œ ì˜ˆì‹œë‚˜ ìœ„ì¹˜",
      "priority": "critical|important|nice-to-have",
      "category": "security|performance|readability|maintainability|testing"
    }
  ]
}

ê° ë°°ì—´ì€ ìµœì†Œ 1ê°œ, ìµœëŒ€ 5ê°œ í•­ëª©ì„ í¬í•¨í•˜ì„¸ìš”."""
```

**ê°œì„  íš¨ê³¼:**
- âœ… ëª…í™•í•œ JSON ìŠ¤í‚¤ë§ˆë¡œ ì¼ê´€ì„± í–¥ìƒ
- âœ… ìš°ì„ ìˆœìœ„ ì‹œìŠ¤í…œìœ¼ë¡œ ì‹¤í–‰ ê°€ëŠ¥ì„± ì¦ê°€
- âœ… ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜ë¡œ íŠ¸ë Œë“œ ë¶„ì„ ê°€ëŠ¥

---

### 2. Commit Message Quality Analysis (`llm.py:292-308`)

**í˜„ìž¬ í”„ë¡¬í”„íŠ¸:**
```python
"ë‹¹ì‹ ì€ ì½”ë“œ ë¦¬ë·° ì „ë¬¸ê°€ìž…ë‹ˆë‹¤. ì»¤ë°‹ ë©”ì‹œì§€ì˜ í’ˆì§ˆì„ í‰ê°€í•˜ì„¸ìš”.
ì¢‹ì€ ì»¤ë°‹ ë©”ì‹œì§€ëŠ” ëª…í™•í•˜ê³ , ê°„ê²°í•˜ë©°, ë³€ê²½ ì‚¬í•­ì˜ ì´ìœ ë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤."
```

**ë¬¸ì œì :**
- âŒ "ëª…í™•í•˜ê³  ê°„ê²°í•œ"ì˜ êµ¬ì²´ì  ê¸°ì¤€ ì—†ìŒ
- âŒ Conventional Commits ê°™ì€ í‘œì¤€ ì–¸ê¸‰ ì—†ìŒ
- âŒ ì˜ˆì‹œì˜ JSON êµ¬ì¡° ë¶ˆëª…í™•
- âŒ ì–¸ì–´ë³„ íŠ¹ì„± ê³ ë ¤ ì—†ìŒ (í•œê¸€ vs ì˜ë¬¸)

**ê°œì„  ë°©ì•ˆ:**
```python
system_prompt = """ë‹¹ì‹ ì€ Git ì»¤ë°‹ ë©”ì‹œì§€ í’ˆì§ˆì„ í‰ê°€í•˜ëŠ” ì „ë¬¸ê°€ìž…ë‹ˆë‹¤.

ë‹¤ìŒ ê¸°ì¤€ìœ¼ë¡œ í‰ê°€í•˜ì„¸ìš”:

**ì¢‹ì€ ì»¤ë°‹ ë©”ì‹œì§€ ê¸°ì¤€:**
1. ì²« ì¤„: 50ìž ì´ë‚´, ëª…ë ¹í˜• ë™ì‚¬ ì‹œìž‘ (Add, Fix, Update, Refactor ë“±)
2. ë³¸ë¬¸: ì™œ(why) ë³€ê²½í–ˆëŠ”ì§€ ì„¤ëª… (ë¬´ì—‡ì„ ë³€ê²½í–ˆëŠ”ì§€ëŠ” ì½”ë“œë¡œ ì•Œ ìˆ˜ ìžˆìŒ)
3. Conventional Commits í˜•ì‹ ê¶Œìž¥: `type(scope): subject`
4. Issue/PR ë²ˆí˜¸ ì°¸ì¡° í¬í•¨
5. ì—¬ëŸ¬ ë³€ê²½ì‚¬í•­ì€ ì—¬ëŸ¬ ì»¤ë°‹ìœ¼ë¡œ ë¶„ë¦¬

**ë‚˜ìœ ì»¤ë°‹ ë©”ì‹œì§€ ì˜ˆ:**
- "fix", "update", "wip", "tmp" ê°™ì€ ë‹¨ì–´ë§Œ ì‚¬ìš©
- ë³€ê²½ ë‚´ìš© ë‚˜ì—´ë§Œ í•˜ê³  ì´ìœ  ì—†ìŒ
- ë„ˆë¬´ ê¸¸ê±°ë‚˜ (100ìž+) ì§§ìŒ (10ìž-)

ì‘ë‹µ í˜•ì‹:
{
  "good_count": ìˆ«ìž,
  "poor_count": ìˆ«ìž,
  "suggestions": [
    "êµ¬ì²´ì ì´ê³  ì‹¤í–‰ ê°€ëŠ¥í•œ ê°œì„  ì œì•ˆ"
  ],
  "examples_good": [
    {
      "sha": "ì»¤ë°‹ í•´ì‹œ",
      "message": "ì»¤ë°‹ ë©”ì‹œì§€",
      "reason": "ì™œ ì¢‹ì€ì§€ ì„¤ëª…"
    }
  ],
  "examples_poor": [
    {
      "sha": "ì»¤ë°‹ í•´ì‹œ",
      "message": "ì»¤ë°‹ ë©”ì‹œì§€",
      "reason": "ì™œ ê°œì„ ì´ í•„ìš”í•œì§€",
      "suggestion": "ê°œì„  ë°©ë²•"
    }
  ],
  "trends": {
    "common_patterns": ["ë°œê²¬ëœ íŒ¨í„´"],
    "improvement_areas": ["ê°œì„  ì˜ì—­"]
  }
}

ìµœëŒ€ 20ê°œ ìƒ˜í”Œë§Œ ë¶„ì„í•˜ê³ , ëŒ€í‘œì ì¸ ì˜ˆì‹œë¥¼ ì„ ì •í•˜ì„¸ìš”."""
```

**ê°œì„  íš¨ê³¼:**
- âœ… êµ¬ì²´ì  ê¸°ì¤€ìœ¼ë¡œ í‰ê°€ ì¼ê´€ì„± í–¥ìƒ
- âœ… Conventional Commits í‘œì¤€ ë„ìž…
- âœ… ê°œì„  ì´ìœ ì™€ ë°©ë²• ëª…ì‹œë¡œ í•™ìŠµ íš¨ê³¼ ì¦ê°€
- âœ… íŠ¸ë Œë“œ ë¶„ì„ìœ¼ë¡œ íŒ€ ë‹¨ìœ„ ê°œì„  ê°€ëŠ¥

---

### 3. PR Title Quality Analysis (`llm.py:345-361`)

**ë¬¸ì œì :**
- âŒ Commit Messageì™€ ìœ ì‚¬í•œ ë¬¸ì œ
- âŒ PR ì œëª©ì˜ íŠ¹ìˆ˜í•œ ìš”êµ¬ì‚¬í•­ ê³ ë ¤ ì•ˆ ë¨
- âŒ ë²”ìœ„(scope), íƒ€ìž…, ì˜í–¥ë„ ë“± ë©”íƒ€ë°ì´í„° ëˆ„ë½

**ê°œì„  ë°©ì•ˆ:**
```python
system_prompt = """ë‹¹ì‹ ì€ Pull Request ì œëª© í’ˆì§ˆì„ í‰ê°€í•˜ëŠ” ì „ë¬¸ê°€ìž…ë‹ˆë‹¤.

**ì¢‹ì€ PR ì œëª© ê¸°ì¤€:**
1. ê¸¸ì´: 15-80ìž (ë„ˆë¬´ ì§§ê±°ë‚˜ ê¸¸ì§€ ì•Šê²Œ)
2. í˜•ì‹: `[íƒ€ìž…] ëª…í™•í•œ ë³€ê²½ ë‚´ìš© ì„¤ëª…`
   - íƒ€ìž… ì˜ˆ: Feature, Fix, Refactor, Docs, Test, Chore
3. ë³€ê²½ì˜ ë²”ìœ„ì™€ ì˜í–¥ ëª…ì‹œ
4. ë‹¨ìˆœ íŒŒì¼ëª… ë‚˜ì—´ ê¸ˆì§€
5. Issue ë²ˆí˜¸ ì°¸ì¡° ê¶Œìž¥

**ëª…í™•ì„± ì²´í¬ë¦¬ìŠ¤íŠ¸:**
- [ ] ì œëª©ë§Œ ì½ê³ ë„ ë³€ê²½ ë‚´ìš© ì´í•´ ê°€ëŠ¥í•œê°€?
- [ ] êµ¬ì²´ì ì¸ ë™ì‚¬ ì‚¬ìš©í–ˆëŠ”ê°€?
- [ ] ì‚¬ìš©ìž ê´€ì ì˜ ê°€ì¹˜ê°€ ë“œëŸ¬ë‚˜ëŠ”ê°€?

**ë‚˜ìœ ì˜ˆ:**
- "Update code" (ë¬´ì—‡ì„ ì™œ?)
- "fix" (ë¬´ì—‡ì„ ìˆ˜ì •?)
- "Implement feature/login/api/..." (êµ¬ì²´ì„± ë¶€ì¡±)

ì‘ë‹µ í˜•ì‹:
{
  "clear_count": ìˆ«ìž,
  "vague_count": ìˆ«ìž,
  "suggestions": [
    "íŒ€ ì „ì²´ì— ì ìš© ê°€ëŠ¥í•œ êµ¬ì²´ì  ê°€ì´ë“œë¼ì¸"
  ],
  "examples_good": [
    {
      "number": PR ë²ˆí˜¸,
      "title": "ì œëª©",
      "reason": "ì™œ ëª…í™•í•œì§€",
      "score": 1-10
    }
  ],
  "examples_poor": [
    {
      "number": PR ë²ˆí˜¸,
      "title": "ì œëª©",
      "reason": "ì™œ ëª¨í˜¸í•œì§€",
      "suggestion": "ê°œì„ ëœ ì œëª© ì˜ˆì‹œ"
    }
  ],
  "patterns": {
    "common_types": ["ë°œê²¬ëœ íƒ€ìž…ë“¤"],
    "naming_conventions": ["ì‚¬ìš©ì¤‘ì¸ ì»¨ë²¤ì…˜"]
  }
}"""
```

---

### 4. Code Review Tone Analysis (`llm.py:401-418`)

**ë¬¸ì œì :**
- âŒ "ê±´ì„¤ì ", "ê°€í˜¹í•¨", "ì¤‘ë¦½ì "ì˜ êµ¬ì²´ì  ì •ì˜ ì—†ìŒ
- âŒ í•œêµ­ ê°œë°œ ë¬¸í™” íŠ¹ì„± ê³ ë ¤ ì—†ìŒ
- âŒ 3ê°€ì§€ ì¹´í…Œê³ ë¦¬ê°€ ë°°íƒ€ì ì¸ì§€ ë¶ˆëª…í™•
- âŒ í†¤ì˜ ì¢‹ê³  ë‚˜ì¨ë§Œ íŒë‹¨, ê°œì„  ë°©ë²• ë¶€ì¡±

**ê°œì„  ë°©ì•ˆ:**
```python
system_prompt = """ë‹¹ì‹ ì€ íŒ€ í˜‘ì—…ê³¼ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ì „ë¬¸ê°€ìž…ë‹ˆë‹¤.
ì½”ë“œ ë¦¬ë·° ì½”ë©˜íŠ¸ì˜ í†¤ì„ ë¶„ì„í•˜ê³  ê°œì„  ë°©ì•ˆì„ ì œì‹œí•˜ì„¸ìš”.

**í‰ê°€ ê¸°ì¤€:**

ê±´ì„¤ì ì¸ ë¦¬ë·° (Constructive):
- êµ¬ì²´ì  ë¬¸ì œ ì§€ì  + í•´ê²° ë°©ë²• ì œì•ˆ
- ì¡´ì¤‘í•˜ëŠ” í‘œí˜„ ì‚¬ìš© ("~í•˜ë©´ ì–´ë–¨ê¹Œìš”?", "~ë¥¼ ê³ ë ¤í•´ë³´ì„¸ìš”")
- ì½”ë“œì— ì§‘ì¤‘, ì‚¬ëžŒ ë¹„íŒ X
- ê¸ì •ì  í”¼ë“œë°± í¬í•¨
- ì˜ˆ: "ì´ ë¶€ë¶„ì„ í•¨ìˆ˜ë¡œ ë¶„ë¦¬í•˜ë©´ í…ŒìŠ¤íŠ¸í•˜ê¸° ì‰¬ìš¸ ê²ƒ ê°™ì•„ìš”."

ê°€í˜¹í•œ ë¦¬ë·° (Harsh):
- ëª…ë ¹í˜•/ë‹¨ì •ì  í‘œí˜„ ("ì´ê±´ ìž˜ëª»ëì–´ìš”", "ë‹¤ì‹œ í•´ì•¼ í•©ë‹ˆë‹¤")
- ê·¼ê±° ì—†ëŠ” ë¹„íŒ
- ìž‘ì„±ìž ëŠ¥ë ¥ í„í•˜
- ì˜ˆ: "ì´ê±´ ì™„ì „ížˆ ìž˜ëª»ëœ ì ‘ê·¼ìž…ë‹ˆë‹¤."

ì¤‘ë¦½ì  ë¦¬ë·° (Neutral):
- ë‹¨ìˆœ ì‚¬ì‹¤ ì§€ì , ê°œì„  ë°©ì•ˆ ì—†ìŒ
- ê°ì •ì  í†¤ ì—†ìŒ
- ì˜ˆ: "ì´ í•¨ìˆ˜ëŠ” ë„ˆë¬´ ê¹ë‹ˆë‹¤."

**í•œêµ­ ê°œë°œ ë¬¸í™” ê³ ë ¤ì‚¬í•­:**
- ì§ì ‘ì  í‘œí˜„ë„ ë§¥ë½ì— ë”°ë¼ ê±´ì„¤ì ì¼ ìˆ˜ ìžˆìŒ
- ë†’ìž„ë§ ì‚¬ìš© ì—¬ë¶€ë³´ë‹¤ ë‚´ìš©ì˜ êµ¬ì²´ì„±ì´ ì¤‘ìš”
- ì´ëª¨ì§€ ì‚¬ìš©ì€ ê¸ì •ì  ì‹ í˜¸ì¼ ìˆ˜ ìžˆìŒ

ì‘ë‹µ í˜•ì‹:
{
  "constructive_count": ìˆ«ìž,
  "harsh_count": ìˆ«ìž,
  "neutral_count": ìˆ«ìž,
  "suggestions": [
    "íŒ€ ì „ì²´ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ê°œì„  ì œì•ˆ"
  ],
  "examples_good": [
    {
      "pr_number": PR ë²ˆí˜¸,
      "author": "ìž‘ì„±ìž",
      "comment": "ì½”ë©˜íŠ¸ ë‚´ìš©",
      "strengths": ["ì¢‹ì€ ì ë“¤"]
    }
  ],
  "examples_improve": [
    {
      "pr_number": PR ë²ˆí˜¸,
      "author": "ìž‘ì„±ìž",
      "comment": "ì›ë³¸ ì½”ë©˜íŠ¸",
      "issues": ["ë¬¸ì œì ë“¤"],
      "improved_version": "ê°œì„ ëœ í‘œí˜„ ì˜ˆì‹œ"
    }
  ],
  "team_culture_insights": {
    "positive_patterns": ["ë°œê²¬ëœ ê¸ì •ì  íŒ¨í„´"],
    "areas_for_growth": ["ê°œì„  ì˜ì—­"]
  }
}

ê° ì¹´í…Œê³ ë¦¬ì— ëª…í™•ížˆ ë¶„ë¥˜í•˜ê³ , ê²½ê³„ì„ ìƒì˜ ê²½ìš° ë§¥ë½ì„ ê³ ë ¤í•˜ì„¸ìš”."""
```

**ê°œì„  íš¨ê³¼:**
- âœ… êµ¬ì²´ì  ê¸°ì¤€ìœ¼ë¡œ ì£¼ê´€ì„± ê°ì†Œ
- âœ… í•œêµ­ ë¬¸í™” íŠ¹ì„± ë°˜ì˜
- âœ… ê°œì„ ëœ í‘œí˜„ ì˜ˆì‹œë¡œ í•™ìŠµ ê°€ëŠ¥
- âœ… íŒ€ ë¬¸í™” ì¸ì‚¬ì´íŠ¸ ì œê³µ

---

### 5. Issue Quality Analysis (`llm.py:456-472`)

**ë¬¸ì œì :**
- âŒ Bug report vs Feature request êµ¬ë¶„ ì—†ìŒ
- âŒ ì´ìŠˆ í…œí”Œë¦¿ ê¸°ì¤€ ì—†ìŒ
- âŒ 100ìž ì´ìƒì´ë©´ "ìž˜ ìž‘ì„±ë¨"ì€ ë„ˆë¬´ ë‹¨ìˆœ

**ê°œì„  ë°©ì•ˆ:**
```python
system_prompt = """ë‹¹ì‹ ì€ í”„ë¡œì íŠ¸ ê´€ë¦¬ ì „ë¬¸ê°€ë¡œì„œ GitHub ì´ìŠˆ í’ˆì§ˆì„ í‰ê°€í•©ë‹ˆë‹¤.

**ì´ìŠˆ íƒ€ìž…ë³„ ê¸°ì¤€:**

Bug Report:
- [ ] ëª…í™•í•œ ìž¬í˜„ ë‹¨ê³„
- [ ] ì˜ˆìƒ ê²°ê³¼ vs ì‹¤ì œ ê²°ê³¼
- [ ] í™˜ê²½ ì •ë³´ (OS, ë²„ì „ ë“±)
- [ ] ì—ëŸ¬ ë©”ì‹œì§€ë‚˜ ìŠ¤í¬ë¦°ìƒ·
- [ ] ì˜í–¥ ë²”ìœ„

Feature Request:
- [ ] í•´ê²°í•˜ë ¤ëŠ” ë¬¸ì œ ì„¤ëª…
- [ ] ì œì•ˆí•˜ëŠ” ì†”ë£¨ì…˜
- [ ] ëŒ€ì•ˆ ê³ ë ¤ì‚¬í•­
- [ ] ì‚¬ìš©ìž ì‹œë‚˜ë¦¬ì˜¤
- [ ] ìš°ì„ ìˆœìœ„ ê·¼ê±°

ì¼ë°˜ ì´ìŠˆ:
- [ ] ëª…í™•í•œ ì œëª© (íƒ€ìž… í¬í•¨)
- [ ] ìƒì„¸í•œ ì„¤ëª… (ë‹¨ìˆœ ìš”ì²­ ì´ìƒ)
- [ ] ë¼ë²¨ì´ë‚˜ ë§ˆì¼ìŠ¤í†¤ ì„¤ì • ê°€ëŠ¥ì„±
- [ ] ê´€ë ¨ ì´ìŠˆ/PR ë§í¬

**í’ˆì§ˆ í‰ê°€:**
- ìž˜ ìž‘ì„±ë¨: ìœ„ ì²´í¬ë¦¬ìŠ¤íŠ¸ 70% ì´ìƒ ì¶©ì¡±
- ê°œì„  í•„ìš”: ì²´í¬ë¦¬ìŠ¤íŠ¸ 50% ë¯¸ë§Œ ë˜ëŠ” í•µì‹¬ ì •ë³´ ëˆ„ë½

ì‘ë‹µ í˜•ì‹:
{
  "well_described_count": ìˆ«ìž,
  "poorly_described_count": ìˆ«ìž,
  "type_breakdown": {
    "bug": ìˆ«ìž,
    "feature": ìˆ«ìž,
    "question": ìˆ«ìž,
    "other": ìˆ«ìž
  },
  "suggestions": [
    "ì´ìŠˆ í…œí”Œë¦¿ ê°œì„  ì œì•ˆ",
    "ìž‘ì„± ê°€ì´ë“œë¼ì¸"
  ],
  "examples_good": [
    {
      "number": ì´ìŠˆ ë²ˆí˜¸,
      "title": "ì œëª©",
      "type": "bug|feature|other",
      "strengths": ["ìž˜ëœ ì ë“¤"],
      "completeness_score": 1-10
    }
  ],
  "examples_poor": [
    {
      "number": ì´ìŠˆ ë²ˆí˜¸,
      "title": "ì œëª©",
      "missing_elements": ["ëˆ„ë½ëœ ìš”ì†Œë“¤"],
      "suggestion": "ê°œì„  ë°©ë²•"
    }
  ],
  "template_recommendations": [
    "í”„ë¡œì íŠ¸ì— ê¶Œìž¥í•˜ëŠ” ì´ìŠˆ í…œí”Œë¦¿ í˜•ì‹"
  ]
}"""
```

---

### 6. Integrated Report Generation (`review_reporter.py:240-273`)

**ë¬¸ì œì :**
- âŒ ë³´ê³ ì„œ êµ¬ì¡°ê°€ ë„ˆë¬´ ì—„ê²©í•˜ê²Œ í…œí”Œë¦¿í™”
- âŒ ì‹œê°„ì— ë”°ë¥¸ íŠ¸ë Œë“œ ë¶„ì„ ê°€ì´ë“œ ì—†ìŒ
- âŒ ì•¡ì…˜ ì•„ì´í…œì´ë‚˜ ìš°ì„ ìˆœìœ„ ì œì•ˆ ì—†ìŒ
- âŒ ë°ì´í„° ê¸°ë°˜ ì¸ì‚¬ì´íŠ¸ë³´ë‹¤ í˜•ì‹ì— ì§‘ì¤‘

**ê°œì„  ë°©ì•ˆ:**
```python
system_prompt = """ë‹¹ì‹ ì€ ê¸°ìˆ  ë¦¬ë”ë¡œì„œ íŒ€ì˜ ì„±ìž¥ì„ ë•ëŠ” í†µí•© ë³´ê³ ì„œë¥¼ ìž‘ì„±í•©ë‹ˆë‹¤.

**ë³´ê³ ì„œ ëª©ì :**
1. ë°ì´í„° ê¸°ë°˜ ì¸ì‚¬ì´íŠ¸ ì œê³µ
2. ì‹¤í–‰ ê°€ëŠ¥í•œ ê°œì„  ë°©ì•ˆ ì œì‹œ
3. íŒ€ì˜ ì„±ìž¥ ê³¼ì • ê°€ì‹œí™”
4. ë‹¤ìŒ ë¶„ê¸° ëª©í‘œ ì„¤ì • ê·¼ê±° ë§ˆë ¨

**ë¶„ì„ ê´€ì :**
- ì‹œê°„ì— ë”°ë¥¸ íŠ¸ë Œë“œ (ê°œì„  ë˜ëŠ” ì•…í™”)
- ë°˜ë³µë˜ëŠ” íŒ¨í„´ (ì¢‹ì€ ê²ƒ, ë‚˜ìœ ê²ƒ)
- íŒ€ì›ë³„/ì˜ì—­ë³„ ê°•ì ê³¼ ê°œì„ ì 
- ê¸°ìˆ  ë¶€ì±„ ëˆ„ì  ì—¬ë¶€
- ì½”ë“œ í’ˆì§ˆ ì§€í‘œ ë³€í™”

**ë³´ê³ ì„œ êµ¬ì¡°:**

# ðŸŽ¯ í†µí•© ì½”ë“œ ë¦¬ë·° ë³´ê³ ì„œ

## ðŸ“Š í•µì‹¬ ì§€í‘œ ìš”ì•½
- ì „ì²´ PR ìˆ˜, ë¦¬ë·° ì°¸ì—¬ìœ¨
- í‰ê·  ë¦¬ë·° ì‹œê°„, ë³‘í•©ê¹Œì§€ ê¸°ê°„
- ì£¼ìš” ê°œì„  íŠ¸ë Œë“œ (â†— ë˜ëŠ” â†˜)

## âœ¨ ì£¼ìš” ì„±ê³¼
- ë°ì´í„°ë¡œ ìž…ì¦ëœ ê¸ì •ì  ë³€í™”
- íŠ¹ížˆ ìž˜í•œ ë¶€ë¶„ (êµ¬ì²´ì  PR ì¸ìš©)
- ì˜í–¥ë„ê°€ í° ìˆœìœ¼ë¡œ ì •ë ¬

## ðŸ’¡ ê°œì„  ì˜ì—­
- ìš°ì„ ìˆœìœ„ë³„ ì •ë ¬ (Critical â†’ Nice-to-have)
- ê° í•­ëª©ì— êµ¬ì²´ì  ì•¡ì…˜ í”Œëžœ
- ì˜ˆìƒ ê°œì„  íš¨ê³¼ ëª…ì‹œ

## ðŸ“ˆ íŠ¸ë Œë“œ ë¶„ì„
- ì§€ë‚œ ê¸°ê°„ ëŒ€ë¹„ ë³€í™”
- ë°˜ë³µë˜ëŠ” ì´ìŠˆ íŒ¨í„´
- ìƒˆë¡­ê²Œ ë°œê²¬ëœ ë¬¸ì œ

## ðŸŽ¯ ë‹¤ìŒ ë¶„ê¸° ê¶Œìž¥ ì‚¬í•­
1. ì¦‰ì‹œ ì‹¤í–‰ ê°€ëŠ¥í•œ ì•¡ì…˜ ì•„ì´í…œ (1-3ê°œ)
2. ì¤‘ê¸° ê°œì„  ëª©í‘œ (1-2ê°œì›”)
3. ìž¥ê¸° íˆ¬ìž ì˜ì—­

## ðŸ“ ê°œë³„ PR í•˜ì´ë¼ì´íŠ¸
- í•™ìŠµ ê°€ì¹˜ê°€ ë†’ì€ PRë“¤
- ëª¨ë²” ì‚¬ë¡€ì™€ ë°˜ë©´êµì‚¬

**ìž‘ì„± ì›ì¹™:**
- ì¶”ìƒì  í‘œí˜„ ëŒ€ì‹  êµ¬ì²´ì  ë°ì´í„°ì™€ ì˜ˆì‹œ
- ë¹„ë‚œë³´ë‹¤ ì„±ìž¥ ê´€ì 
- ì‹¤í–‰ ê°€ëŠ¥ì„± ìµœìš°ì„ 
- íŒ€ ë§¥ë½ê³¼ ë¬¸í™” ê³ ë ¤

ì¶œë ¥ì€ Markdown í˜•ì‹, ì´ëª¨ì§€ëŠ” ì ì ˆížˆ ì‚¬ìš©í•˜ì„¸ìš”."""

user_prompt = f"""ë‹¤ìŒ ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬ í†µí•© ë³´ê³ ì„œë¥¼ ìž‘ì„±í•˜ì„¸ìš”:

{context}

ì¶”ê°€ ë¶„ì„ í¬ì¸íŠ¸:
1. ì´ ê¸°ê°„ ë™ì•ˆ ê°€ìž¥ í° ë³€í™”ëŠ”?
2. ê°€ìž¥ ì‹œê¸‰í•œ ê°œì„  ì‚¬í•­ì€?
3. íŒ€ì˜ ê°•ì ì„ ë” ê°•í™”í•˜ë ¤ë©´?
4. ë‹¤ìŒ ë‹¬ê¹Œì§€ ë‹¬ì„± ê°€ëŠ¥í•œ ëª©í‘œ 1ê°€ì§€ëŠ”?"""
```

**ê°œì„  íš¨ê³¼:**
- âœ… ë°ì´í„° ê¸°ë°˜ ì¸ì‚¬ì´íŠ¸ ì¤‘ì‹¬
- âœ… ì‹¤í–‰ ê°€ëŠ¥í•œ ì•¡ì…˜ ì•„ì´í…œ ì œê³µ
- âœ… íŠ¸ë Œë“œ ë¶„ì„ìœ¼ë¡œ ë°©í–¥ì„± ì œì‹œ
- âœ… íŒ€ ì„±ìž¥ ê´€ì  ê°•í™”

---

## ðŸ”§ êµ¬í˜„ ê°œì„  ì‚¬í•­

### 1. Retry Logic ê°•í™”

**í˜„ìž¬ ë¬¸ì œ:**
- LLMì´ ìž˜ëª»ëœ JSON ë°˜í™˜ ì‹œ ë°”ë¡œ fallback
- í”„ë¡¬í”„íŠ¸ ìž¬ìž‘ì„± ì‹œë„ ì—†ìŒ

**ê°œì„ ì•ˆ:**
```python
def generate_review_with_retry(self, bundle: PullRequestReviewBundle, max_retries: int = 3) -> ReviewSummary:
    """Retry with progressively simpler prompts if JSON parsing fails."""

    for attempt in range(max_retries):
        try:
            return self.generate_review(bundle)
        except ValueError as e:
            if "not valid JSON" in str(e) and attempt < max_retries - 1:
                logger.warning(f"JSON parsing failed (attempt {attempt + 1}), retrying with stricter prompt")
                # Add JSON format reminder to messages
                continue
            raise
```

### 2. Temperature ì¡°ì •

**í˜„ìž¬:** 0.2 (ë„ˆë¬´ ë‚®ìŒ)
**ê¶Œìž¥:**
- PR ë¦¬ë·°: 0.3-0.4 (ë‹¤ì–‘í•œ ê´€ì  í•„ìš”)
- í’ˆì§ˆ ë¶„ì„: 0.2-0.3 (ì¼ê´€ì„± í•„ìš”)
- í†µí•© ë³´ê³ ì„œ: 0.4-0.5 (ì°½ì˜ì  ì¸ì‚¬ì´íŠ¸ í•„ìš”)

### 3. Token ê´€ë¦¬

**ë¬¸ì œ:** 50ê°œ ì»¤ë°‹, 30ê°œ ì´ìŠˆëŠ” í† í° ë‚­ë¹„ ê°€ëŠ¥

**ê°œì„ :**
```python
# ìƒ˜í”Œë§ ì „ëžµ
- ìµœì‹  20ê°œ + ëžœë¤ 10ê°œ (ë‹¤ì–‘ì„± í™•ë³´)
- ì¤‘ìš”ë„ ê¸°ë°˜ ìƒ˜í”Œë§ (ë³€ê²½ í¬ê¸°, ë¦¬ë·° ì°¸ì—¬ ë“±)
- í† í° ì˜ˆì‚° ê³„ì‚° í›„ ë™ì  ì¡°ì •
```

### 4. Few-shot Examples ì¶”ê°€

ëª¨ë“  í”„ë¡¬í”„íŠ¸ì— 1-2ê°œì˜ ì™„ë²½í•œ ì˜ˆì‹œ í¬í•¨:

```python
few_shot_example = """
ì˜ˆì‹œ ìž…ë ¥:
ì»¤ë°‹ ë©”ì‹œì§€: "feat(auth): implement JWT token refresh mechanism"

ì˜ˆì‹œ ì¶œë ¥:
{
  "good_count": 1,
  "poor_count": 0,
  "examples_good": [{
    "message": "feat(auth): implement JWT token refresh mechanism",
    "reason": "Conventional Commits í˜•ì‹ ì¤€ìˆ˜, ë²”ìœ„(auth) ëª…ì‹œ, êµ¬ì²´ì  ê¸°ëŠ¥ ì„¤ëª…"
  }]
}
"""
```

### 5. Chain-of-Thought ì¶”ê°€

ë³µìž¡í•œ ë¶„ì„ì—ëŠ” ì‚¬ê³  ê³¼ì • ìš”ì²­:

```python
"ë¶„ì„ ê³¼ì •:
1. ë¨¼ì € ê° ì»¤ë°‹ ë©”ì‹œì§€ë¥¼ ì½ê³  íŒ¨í„´ì„ íŒŒì•…í•˜ì„¸ìš”
2. Conventional Commits ê¸°ì¤€ê³¼ ë¹„êµí•˜ì„¸ìš”
3. ì¢‹ì€ ì˜ˆì‹œì™€ ë‚˜ìœ ì˜ˆì‹œë¥¼ ì„ ì •í•˜ì„¸ìš”
4. íŒ€ ì „ì²´ì— ì ìš© ê°€ëŠ¥í•œ ê°œì„  ì œì•ˆì„ ë„ì¶œí•˜ì„¸ìš”

ìµœì¢… JSON ì‘ë‹µì„ ìž‘ì„±í•˜ì„¸ìš”:"
```

---

## ðŸ“Š ê°œì„  ì˜ˆìƒ íš¨ê³¼

| ì§€í‘œ | í˜„ìž¬ | ì˜ˆìƒ ê°œì„  |
|-----|------|----------|
| JSON íŒŒì‹± ì„±ê³µë¥  | ~85% | ~98% |
| í”¼ë“œë°± êµ¬ì²´ì„± | ì¤‘ | ë†’ìŒ |
| ì‹¤í–‰ ê°€ëŠ¥ì„± | ì¤‘ | ë†’ìŒ |
| ì¼ê´€ì„± | ì¤‘ | ë†’ìŒ |
| LLM ë¹„ìš© | ê¸°ì¤€ | -20% (ìƒ˜í”Œë§ ìµœì í™”) |
| ê°œë°œìž ë§Œì¡±ë„ | - | +30% (ì˜ˆìƒ) |

---

## ðŸš€ ìš°ì„ ìˆœìœ„ ê¶Œìž¥ ì‚¬í•­

### P0 (ì¦‰ì‹œ ì ìš©)
1. âœ… JSON ìŠ¤í‚¤ë§ˆ ì˜ˆì‹œ ì¶”ê°€ (ëª¨ë“  í”„ë¡¬í”„íŠ¸)
2. âœ… Retry logic êµ¬í˜„
3. âœ… ìƒ˜í”Œ í¬ê¸° ìµœì í™” (50â†’20, 30â†’15)

### P1 (ì´ë²ˆ ì£¼)
4. âœ… PR Review í”„ë¡¬í”„íŠ¸ ê°œì„  (ìš°ì„ ìˆœìœ„, ì¹´í…Œê³ ë¦¬)
5. âœ… Temperature ìž¬ì¡°ì •
6. âœ… Commit/PR ì œëª© ë¶„ì„ì— Conventional Commits ê¸°ì¤€ ì¶”ê°€

### P2 (ë‹¤ìŒ ì£¼)
7. âœ… Few-shot examples ì¶”ê°€
8. âœ… í†µí•© ë³´ê³ ì„œ í”„ë¡¬í”„íŠ¸ ê°œì„ 
9. âœ… Chain-of-thought prompting ì ìš©

### P3 (í–¥í›„)
10. âœ… A/B í…ŒìŠ¤íŠ¸ í”„ë ˆìž„ì›Œí¬ êµ¬ì¶•
11. âœ… í”„ë¡¬í”„íŠ¸ ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œ
12. âœ… ì‚¬ìš©ìž í”¼ë“œë°± ìˆ˜ì§‘ ë° ë°˜ì˜ ë£¨í”„

---

## ðŸ“ ê²°ë¡ 

í˜„ìž¬ í”„ë¡¬í”„íŠ¸ë“¤ì€ ê¸°ë³¸ ê¸°ëŠ¥ì€ ìˆ˜í–‰í•˜ì§€ë§Œ, **êµ¬ì²´ì„±**, **ì¼ê´€ì„±**, **ì‹¤í–‰ ê°€ëŠ¥ì„±** ì¸¡ë©´ì—ì„œ ê°œì„  ì—¬ì§€ê°€ í½ë‹ˆë‹¤.

íŠ¹ížˆ:
- **JSON ìŠ¤í‚¤ë§ˆ ëª…ì‹œ**ì™€ **few-shot learning**ì€ ì¦‰ê°ì  íš¨ê³¼
- **í‰ê°€ ê¸°ì¤€ êµ¬ì²´í™”**ëŠ” ì‹ ë¢°ë„ í–¥ìƒ
- **Temperature ì¡°ì •**ê³¼ **ìƒ˜í”Œë§ ìµœì í™”**ëŠ” ë¹„ìš© íš¨ìœ¨ì„± ê°œì„ 

ìœ„ ê°œì„ ì•ˆì„ ë‹¨ê³„ì ìœ¼ë¡œ ì ìš©í•˜ë©´ LLM ê¸°ë°˜ í”¼ë“œë°± ì‹œìŠ¤í…œì˜ í’ˆì§ˆê³¼ ì‹ ë¢°ë„ë¥¼ í¬ê²Œ ë†’ì¼ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.
